{% from "macros/button.njk" import button_link, button, icon_round %}
{% from "macros/case-study-card.njk" import case_study_card %}

{% extends "base.njk" %}

{% block page_styles %}
<link rel="stylesheet" href="/assets/css/pages/home.css">
{% endblock %}

{% block content %}
<!-- hero section -->
<section id="{{home.hero.slug}}"  class="tuf-section tuf-section--full-bleed">
  <img class="hero__bg" src="/assets/img/hero-hand.png" alt="{{home.hero.title|safe}}" />
  <div class="hero">
    <h1 class="hero__header">
      {{home.hero.title|safe}}
    </h1>
    <div class="hero__footnote">
      <p>{{home.hero.footnote_1|safe}}</p>
      <p class="hero__footnote-highlight">{{home.hero.footnote_2|safe}}</p>
    </div>
  </div>
  <div class="hero__cta">
    {{
      button_link(
        classes="hero__cta__link",
        type="primary",
        label=home.hero.cta.label,
        href=home.hero.cta.href
      )
    }}
  </div>
</section>
<!-- end of hero section -->

<!-- mission section -->
<section id="{{home.mission.slug}}" class="tuf-section mission-section">
  <div class="mission">
    <h2 class="mission__title">
      {{home.mission.title|safe}}
    </h2>
    <p class="mission__content">
      {{home.mission.content|safe}}
    </p>
  </div>
</section>
<!-- end of mission section -->

<!-- clients section -->
<section
  id="{{home.clients.slug}}" 
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding clients-section">
  <h2 class="tuf-section-title clients__title">
    {{home.clients.title|safe}}
  </h2>
  <div class="clients__carousel">
    <div class="clients__list-bg"></div>
    <div class="clients__list">
      <div class="glide__track" data-glide-el="track">
        <ul class="glide__slides glide__track clients__list-items">
          {% for client in home.clients.items %}
          <li
            aria-label="{{client.name}}"
            class="glide__slide clients__list-item">
            <img src="{{client.image}}" alt="{{client.name}}" />
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</section>
<!-- end of clients section -->

<!-- testimonials section -->
<section id="{{home.testimonials.slug}}" class="tuf-section testimonials-section">
  <div class="testimonials__list">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides glide__track testimonials__list-items">
        {% for testimonial in home.testimonials.items %}
        <li class="glide__slide testimonials__list-item">
          <blockquote>
            <p>
              {{testimonial.content|safe}}
            </p>
            <footer>
              â€” {{testimonial.name}}
            </footer>
          </blockquote>
        </li>
        {% endfor %}
      </ul>
    </div>

    <div class="glide__bullets testimonials__list-paginations" data-glide-el="controls[nav]">
      {% for testimonial in home.testimonials.items %}
      <button aria-label="testimonial item {{loop.index}}" class="glide__bullet" data-glide-dir="={{loop.index0}}"></button>
      {% endfor %}
    </div>
  </div>
</section>
<!-- end of testimonials section -->

<!-- ask ava section -->
<section
  id="{{home.ask_ava.slug}}"
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding ask-ava">
  <h2 class="tuf-section-title ask-ava__title">
    {{home.ask_ava.title|safe}}
  </h2>
  <div class="tuf-content-padding ask-ava__content">
    <div class="ask-ava__content__head" role="img" aria-label="Ava">
      <div class="ask-ava__content__head-items">
        <img draggable="false" class="ask-ava__content__head__bg" src="/assets/img/ava.png" />
        <div class="ask-ava__content__head__lips">
          <img draggable="false" class="ask-ava__content__head__lips--default" src="/assets/img/ava-mouth-default.png" />
          <img draggable="false" class="ask-ava__content__head__lips--a-e" src="/assets/img/ava-mouth-a-e.png" />
          <img draggable="false" class="ask-ava__content__head__lips--c-ee" src="/assets/img/ava-mouth-c-ee.png" />
          <img draggable="false" class="ask-ava__content__head__lips--o" src="/assets/img/ava-mouth-o.png" />
          <img draggable="false" class="ask-ava__content__head__lips--oo-w" src="/assets/img/ava-mouth-oo-w.png" />
          <img draggable="false" class="ask-ava__content__head__lips--s-x" src="/assets/img/ava-mouth-s-x.png" />
        </div>
      </div>
    </div>
    <div class="ask-ava__content__text">
      <div id="ask-ava-text" role="log" aria-live="polite">
        Hello Seeker, how may I be of assistance?
      </div>
      {{
        icon_round(
          classes = 'ask-ava__content__text__btn',
          id = 'ask-ava-text-next',
          icon = 'icon-arrow-right',
          isButton = true
        )
      }}
    </div>
  </div>
</section>
<!-- end of ask ava section -->

<!-- what we do section -->
<section
  id="{{home.what_we_do.slug}}"
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding what-we-do-section">
  <h2 class="tuf-section-title what-we-do__title">
    {{home.what_we_do.title|safe}}
  </h2>
  <div class="what-we-do__list">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides glide__track what-we-do__list-items">
        {% for item in home.what_we_do.items %}
        <li class="glide__slide what-we-do__list-item">
          <a
            href="{{item.href}}"
            class="glide__slide what-we-do__list-item__card">
            <img
              src="{{item.image}}"
              alt="{{item.title}}"
              class="what-we-do__list-item__card__image" />
            <h3 class="what-we-do__list-item__card__title">
              {{item.title|safe}}
            </h3>
            <p class="what-we-do__list-item__card__content">
              {{item.content|safe}}
            </p>
            <small class="what-we-do__list-item__card__footnote">
              {{item.footnote|safe}}
            </small>
            <div class="what-we-do__list-item__card__link">
              {{
                icon_round(
                  classes = 'what-we-do__list-item__card__link__icon',
                  icon = 'icon-arrow-right'
                )
              }}
              {{item.cta_label}}
            </div>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>
    <div class="glide__bullets what-we-do__list-paginations" data-glide-el="controls[nav]">
      {% for item in home.what_we_do.items %}
      <button aria-label="what we do list item {{loop.index}}" class="glide__bullet" data-glide-dir="={{loop.index0}}"></button>
      {% endfor %}
    </div>
  </div>
  <div class="tuf-content-padding what-we-do__footnote">
    <div class="what-we-do__footnote__content">
      <h4 class="what-we-do__footnote__content__title">
        {{home.what_we_do.footnote.title}}
      </h4>
      <p>
        {{home.what_we_do.footnote.content}}
      </p>
    </div>
  </div>
  {{
    button_link(
      classes="what-we-do__cta",
      type="primary",
      label=home.what_we_do.cta.label,
      href=home.what_we_do.cta.href
    )
  }}
</section>
<!-- end of what we do section -->

<!-- case studies section -->
<section
  id="{{home.case_studies.slug}}"
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding case-studies">
  <h2 class="tuf-section-title case-studies__title">
    {{home.case_studies.title|safe}}
  </h2>
  <ul class="tuf-content-padding case-studies__list" aria-label="{{home.case_studies.title}}">
    {% set home_case_studies = case_studies | selectattr('featured_in_home') | list | sort(false, false, 'featured_in_home') %}
    {% for item in home_case_studies %}
    <li class="case-studies__list__item">
    {{
      case_study_card(
        classses = '',
        href = '/case-studies/' + item.slug,
        title = item.title,
        tags = item.tags,
        image = item.image
      )
    }}
    </li>
    {% endfor %}
  </ul>
  {{
    button_link(
      classes="case-studies__cta",
      type="primary",
      label=home.case_studies.cta.label,
      href=home.case_studies.cta.href
    )
  }}
</section>
<!-- end of case studies section -->

<!-- what do you seek section -->
<section
  id="{{home.what_do_you_seek.slug}}"
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding what-do-you-seek">
  <h2 class="tuf-section-title what-do-you-seek__title">
    {{home.what_do_you_seek.title|safe}}
  </h2>
  <div class="what-do-you-seek__content-wrapper">
    <div class="what-do-you-seek__content">
      <div class="what-do-you-seek__content__navigation">
        <label
          data-label="{{home.what_do_you_seek.filter_label | safe}}"
          class="what-do-you-seek__content__navigation__label"
          for="what-do-you-seek-list">
          <span>
            {{home.what_do_you_seek.filter_label | safe}}
          </span>
          <svg role="img" class="what-do-you-seek__content__navigation__label__icon">
            <use xlink:href="#down" />
          </svg>
        </label>
        <div class="what-do-you-seek__content__navigation-wrapper" aria-hidden="false">
          <ul class="what-do-you-seek__content__navigation__items" role="listbox">
            {% for item in home.what_do_you_seek.items %}
            <li data-type="{{item.type}}" class="what-do-you-seek__content__navigation__item" tabindex="0" role="option">
              <span>{{item.type}}</span>
            </li>
            {% endfor %}
          </ul>
          <p class="what-do-you-seek__content__navigation__footnote">
          Or simply
          </p>
          {{
            button_link(
              classes="what-do-you-seek__content__navigation__cta",
              type="primary",
              label=home.what_do_you_seek.cta.label,
              href=home.what_do_you_seek.cta.href
            )
          }}
        </div>
      </div>
      <div class="what-do-you-seek__content__cards">
        <div class="tuf-content-padding what-do-you-seek__content__cards__items">
          {% for item in home.what_do_you_seek.items %}
          <img
            class="what-do-you-seek__content__cards__item"
            alt="{{home.what_do_you_seek.title|safe}} tarrots card"
            src="/assets/img/tuf-seek-card-idle.png" />
          {% endfor %}
        </div>

        <div
          role="dialog"
          aria-modal="true"
          aria-labelledby="seek-dialog-title"
          class="tuf-content-padding what-do-you-seek__dialog">
          <div class="what-do-you-seek__dialog__image">
            <img src="" alt="" id="seek-dialog-image" />
          </div>
          <div class="what-do-you-seek__dialog__content-wrapper">
            <header>
              <p id="seek-dialog-type" class="what-do-you-seek__dialog__type"></p>
              <h3 id="seek-dialog-title" class="what-do-you-seek__dialog__title">
              </h3>
              <p id="seek-dialog-subtitle" class="what-do-you-seek__dialog__subtitle"></p>
            </header>
            <div id="seek-dialog-content" class="what-do-you-seek__dialog__content">
            </div>
          </div>
          <div>
            {{
              icon_round(
                classes = 'what-do-you-seek__dialog__close-btn',
                icon = 'close',
                isButton = true
              )
            }}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- end of what do you seek section -->

<!-- instagram section -->
<section
  id="{{home.instagram.slug}}"
  class="tuf-section tuf-section--full-bleed tuf-section--no-padding instagram">
  <h2 class="tuf-section-title instagram__title">
    {{home.instagram.title|safe}}
  </h2>
  <ul class="tuf-content-padding instagram__list" aria-label="{{home.instagram.title}}">
    {% for item in home.instagram.items %}
    <li class="instagram__list__item">
      <a
        href="{{item.href}}"
        target="_blank"
        rel="noopener noreferrer">
        <img src="{{item.image}}" alt="{{item.alt}}" />
      </a>
    </li>
    {% endfor %}
  </ul>
</section>
<!-- end of instagram section -->

<!-- talk to us section -->
{% include 'partials/footer.njk' %}
<!-- end of talk to us section -->

{% endblock %}


{% block page_script %}
<script>
  var seekList = JSON.parse('{{home.what_do_you_seek.items|json|safe}}');
</script>
<script src="/assets/js/home.min.js"></script>
{% endblock %}